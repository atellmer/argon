!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Argon",[],n):"object"==typeof exports?exports.Argon=n():e.Argon=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r=function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},o=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},i=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(o(arguments[n]));return e};function u(e){return"function"==typeof e}function l(e){return void 0===e}function c(e){return Array.isArray(e)}function a(e){return null===e}function f(e){return a(e)||l(e)}function d(e){var n={"<":"&lt;",">":"&gt;"};return e.replace(/[<>]/g,function(e){return n[e]||e})}function s(e){return void 0===e&&(e={}),"string"==typeof e?d(e):("object"==typeof e&&null!==e&&Object.keys(e).forEach(function(n){"string"==typeof e[n]?e[n]=d(e[n]):"object"==typeof e[n]&&s(e[n])}),e)}function p(e){throw new Error(e)}function v(e){return"object"==typeof e&&!0===e.isVNode}var h="@@spider:{{}}",y="@@spider:node",m="@@spider:node-list",E="@@spider:component",g="@@spider:component-list",b="@@spider:{{event-handler}}",T="@@spider:empty",O="NODE",A="NODE_LIST",M="COMPONENT",x="COMPONENT_LIST",S={EQUALS:"EQUALS",ADD:"ADD",REMOVE:"REMOVE"},N="@@spider:autokey",D="data-spiderroot",I="data-spiderid",C="data-spidername",R="data-spiderportalid",j="data-key",w="ref",k="is:node",_="@@spider:dontUpdateNode",U={COMMENT:"COMMENT",TAG:"TAG",TEXT:"TEXT"},P={ADD_NODE:"ADD_NODE",REMOVE_NODE:"REMOVE_NODE",REPLACE_NODE:"REPLACE_NODE",ADD_ATTRIBUTE:"ADD_ATTRIBUTE",REMOVE_ATTRIBUTE:"REMOVE_ATTRIBUTE",REPLACE_ATTRIBUTE:"REPLACE_ATTRIBUTE"},V=Symbol("$$name"),$=Symbol("$$prevState"),B=Symbol("$$prevProps"),H=Symbol("$$cache"),L=Symbol("$$elementType"),q=Symbol("$$isMounted"),G=Symbol("$$id"),K=Symbol("$$uidApp"),Q=Symbol("$$root"),X=(Symbol("$$DOMElement"),Symbol("$$markedIDMap")),W=Symbol("$$orderedIDList"),z=Symbol("$$getComponentSymbol"),F=Symbol("$$portal"),J=Symbol("$$eventHandlers"),Y=Symbol("$$ref"),Z=le(),ee=function(){return Z.registery},ne=function(){return Z.uid.mounted},te=function(e){return Z.uid.mounted=e},re=function(){return Z.uid.active},oe=function(e){return Z.uid.active=e},ie=function(){return Z.currMountedComponentId},ue=function(e){return Z.currMountedComponentId=e};function le(){return{registery:new Map,uid:{mounted:0,active:0},currMountedComponentId:null}}function ce(){Array.from(Z.registery.keys()).forEach(function(e){return Z.registery.get(e).node.innerHTML=""}),Z=le()}var ae=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};function fe(e,n,t){var r=ee().get(t),o=Le(t)[n].instance,i=r.node;if(e.type===U.TAG){var u=Object.keys(e.attrs).map(function(e){return e})||[],l=e.children.filter(function(e){return e.type===U.TAG});u.forEach(function(r){if(e.attrs[r]===b&&/^on:/.test(r)){var u=e.route.join("."),l=n+":"+u,c=r.slice(3,r.length),a=o[J][0];!function(e,n,t,r,o,i){var u=ee().get(n),l=function(n){var t=ae(function e(n,t,r,o,i,u){void 0===r&&(r=[]),void 0===o&&(o=0),void 0===i&&(i=0),void 0===u&&(u=!1);var l=Array.from(n.childNodes),c=Be(r);if(c[o]=i,o++,t===n)return[c=c.slice(0,o),!0];for(var a=0;a<l.length;a++){var f=n.childNodes[a],d=$e(e(f,t,c,o,a,u),2),s=d[0],p=d[1];if(p)return[s,p]}return[c,u]}(e,n.target),1),o=t[0];o.shift(),r===o.join(".")&&i(n)};u.eventHandlers[t]||(u.eventHandlers[t]={}),u.eventHandlers[t][o]||(u.eventHandlers[t][o]={addEvent:null,removeEvent:null}),u.eventHandlers[t][o].removeEvent&&u.eventHandlers[t][o].removeEvent(),u.eventHandlers[t][o]={addEvent:function(){return e.addEventListener(o,l)},removeEvent:function(){return e.removeEventListener(o,l)}},u.eventHandlers[t][o].addEvent()}(i,t,l,u,c,a),o[J].splice(0,1),delete e.attrs[r]}}),l.forEach(function(e){var r=e.attrs[I];!Boolean(r)&&fe(e,n,t)})}}var de=function(){return(de=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function se(e){if(u(e.getDefaultProps)){var n=s(e.getDefaultProps());return de({},n)}return{}}function pe(e){var n=Symbol(e.displayName),t=e.config||{pure:!1},r=function(){var t=this;Object.keys(e).forEach(function(n){return t[n]=e[n]}),this[V]=e.displayName,this[L]=n,this[G]="",this[H]=new Map,this[X]={},this[W]=[],this.state=function(e){if(u(e.getInitialState)){var n=s(e.getInitialState());return de({},n)}return{}}(e),this.props=se(e),this[$]=de({},this.state),this[B]=de({},this.props),this[q]=!1,this[F]=!1,this[z]=function(){return n},this[J]=[],this.setState=function(e,n){void 0===n&&(n=function(){});var r=de({},t.state,s(e));t.shouldUpdate(t.props,de({},r))&&(t[$]=de({},t.state),t.state=de({},r),t.forceUpdate(n))},this.forceUpdate=function(e){void 0===e&&(e=function(){}),function(e,n){void 0===n&&(n={beforeRender:function(){},afterRender:function(){}});var t=n.beforeRender,r=n.afterRender,o=e[G],i=e[K];e[X]={},ue(o),oe(e[K]),t(),Xe(o,i),r()}(t,{beforeRender:function(){t.willUpdate(t.props,t.state)},afterRender:function(){t.didUpdate(t.props,de({},t[$])),e()}})},this.willMount=this.willMount||function(){},this.didMount=this.didMount||function(){},this.willReceiveProps=this.willReceiveProps||function(){},this.shouldUpdate=this.shouldUpdate||function(){return!0},this.willUpdate=this.willUpdate||function(){},this.didUpdate=this.didUpdate||function(){},this.willUnmount=this.willUnmount||function(){},this.render=this.render||function(){return p("render method does not exist!")}};return function(o){return void 0===o&&(o={}),{isSpiderComponent:!0,is:n.toString(),createInstance:function(){return new r},getComponentSymbol:function(){return n},uid:0,config:t,mountPortal:null,props:de({},se(e),o)}}}function ve(e,n,t){void 0===t&&(t=null);var r=ee().get(n),o=Le(n),i=o[e],u=i.instance,l=u[z](),c=null,a=null;u.props.ref&&u.props.ref(null),a=o[(t=t||o[i.parentId].instance)[G]],c=t[H].get(l),delete o[e],qe(n,o);c.forEach(function(n,r){if(n===u){var o=t[W].findIndex(function(n){return n===e});c.delete(r),t[W].splice(o,1)}}),t[H].set(l,c),Object.keys(i.childrenIdMap).forEach(function(e){return ve(e,n,u)}),a&&delete a.childrenIdMap[e],u.willUnmount();if(Object.keys(r.eventHandlers).forEach(function(n){n.split(":")[0]===e&&(Object.keys(r.eventHandlers[n]).forEach(function(e){return r.eventHandlers[n][e].removeEvent()}),delete r.eventHandlers[n])}),u[F]){var f=u[K]+":"+e,d=document.querySelector("["+R+'="'+f+'"]');d&&(d.parentElement!==document.body?(d.removeAttribute(R),d.innerHTML=""):d.parentElement.removeChild(d))}ee().set(n,r)}var he=function(){return(he=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ye=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},me=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(ye(arguments[n]));return e},Ee=/<\!--(.*)-->/,ge=/([\w-:]+)|["]{1}([^"]*)["]{1}/gi,be=/<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>/gi,Te=/^\s*$/,Oe={br:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,area:!0,base:!0,col:!0,command:!0,embed:!0,keygen:!0,param:!0,source:!0,track:!0,wbr:!0},Ae={checked:!0,selected:!0,disabled:!0,multiple:!0,required:!0,autofocus:!0,hidden:!0};function Me(e){return{type:U.TEXT,isVNode:!0,void:!0,attrs:null,name:null,children:[],route:[],content:e}}function xe(e){return{type:U.COMMENT,isVNode:!0,void:!0,name:null,attrs:null,children:[],route:[],content:e}}function Se(e){var n=[],t=[],r=null,o=-1;return e.replace(be,function(i,u){var l="/"!==i[1],c=u+i.length,a=e[c],f=null;if(l){if(o++,!1===(r=function(e){var n=!1,t="",r={isVNode:!0,type:U.TAG,name:null,void:!1,attrs:{},children:[],route:[]};return Ee.test(e)?xe(e.match(Ee)[1]):(e.replace(ge,function(o){return n?/["]/g.test(o)?r.attrs[t]=o.replace(/["]/g,""):Ae[t=o]&&(r.attrs[t]=!0):((Oe[o]||"/"===e[e.length-2])&&(r.void=!0),r.name=o,n=!0),""}),r)}(i)).void&&a&&"<"!==a){var d=e.slice(c,e.indexOf("<",c));r.children.push(Me(d))}0===o&&n.push(r),(f=t[o-1]||null)&&f.children.push(r),t[o]=r}if((!l||!0===r.void)&&(o--,"<"!==a&&a)){f=-1===o?n:t[o].children;var s=e.indexOf("<",c);d=e.slice(c,-1===s?void 0:s),Te.test(d)||f.push(Me(d))}return""}),n}function Ne(e){return he({},ee().get(e).vdom)}function De(e,n,t,r,o){return void 0===n&&(n=[]),void 0===o&&(o=[]),{action:e,route:n,keyRoute:o,oldValue:t,nextValue:r}}function Ie(e,n){var t;return(t={})[e]=n,t}function Ce(e,n){return e&&e.type===U.TAG&&!f(e.attrs[n])?e.attrs[n]:null}function Re(e,n,t){e.type===U.TAG&&(e.attrs[n]=t)}function je(e,n){e.type===U.TAG&&delete e.attrs[n]}function we(e){return Ce(e,j)}function ke(e,n,t,r,o,i,u,l){void 0===t&&(t=!1),void 0===r&&(r=null),void 0===o&&(o=[]),void 0===i&&(i=[]),void 0===u&&(u=0),void 0===l&&(l=0);var c=me(o),a=me(i);if(f(r)&&(r=he({},n)),a[u]=l,Ce(n,_))return je(n,_),c;if(!e&&!n)return c;if(!t&&(Boolean(Ce(e,R))||Boolean(Ce(n,R))))return c;if(!e)return c.push(De(P.ADD_NODE,a,null,n)),c;if(!n)return c.push(De(P.REMOVE_NODE,a,e,null)),c;if(e.type!==n.type||e.name!==n.name||e.content!==n.content)return c.push(De(P.REPLACE_NODE,a,e,n)),c;if(e.attrs&&n.attrs){Object.keys(e.attrs).forEach(function(t){if(f(n.attrs[t]))c.push(De(P.REMOVE_ATTRIBUTE,a,Ie(t,e.attrs[t]),null));else if(n.attrs[t]!==e.attrs[t]){var o=t===I?function(e,n){var t=n,r=[],o=[];return e.forEach(function(n,i){i>0&&(t=t.children[n]),we(t)&&i<=e.length-1&&(o=me(r)),r[i]=n}),o}(a,r):[],i=De(P.REPLACE_ATTRIBUTE,a,Ie(t,e.attrs[t]),Ie(t,n.attrs[t]),o);c.push(i)}}),Object.keys(n.attrs).forEach(function(t){f(e.attrs[t])&&c.push(De(P.ADD_ATTRIBUTE,a,null,Ie(t,n.attrs[t])))})}u++;var d=function(o,i){for(var l=Math.max(o.children.length,i.children.length),f=0;f<l;f++){var d=e.children[f],s=n.children[f];Ce(s,_)?je(n,_):c=me(ke(d,s,t,r,c,a,u,f))}};if(!(!e.children||!n.children)&&(e.children.some(function(e){return!f(we(e))})&&e.children.length>n.children.length)){var s=e.children.filter(function(e){return n.children.every(function(n){return we(n)!==we(e)})});s.forEach(function(n,o){var i=e.children.findIndex(function(e){return e===n});c=me(ke(n,null,t,r,c,me(a),u,i-o))});var p=function(e){return s.every(function(n){return n!==e})};return d(he({},e,{children:e.children.filter(p)}),he({},n,{children:n.children.filter(p)})),c}return d(e,n),c}function _e(e,n,t,r,o){void 0===n&&(n=[]),void 0===t&&(t=0),void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.children.length;e.route=me(n),o||(e.route[t]=r,i>0&&t++);for(var u=0;u<i;u++)e.children[u]=_e(e.children[u],e.route,t,u);return e}function Ue(){var e=function(n){return e.current=n||null};return e[Y]=!0,e.current=null,e}var Pe=function(){return(Pe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ve=function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}},$e=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},Be=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat($e(arguments[n]));return e};function He(e,n){var t,r;void 0===n&&(n=null);var o=n,i=re(),u=function(e){if(e)if(e.type===U.TAG){var n=document.createElement(e.name);Object.keys(e.attrs).forEach(function(t){return n.setAttribute(t,e.attrs[t])});var t=n.getAttribute(w);if(parseInt(t)>=0){var r=ee().get(i).refs;r[t]&&r[t](n),n.removeAttribute(w)}o?(o.appendChild(n),!e.void&&o.appendChild(He(e.children,n))):(o=n,o=He(e.children,o))}else e.type===U.TEXT?o?o.appendChild(document.createTextNode(e.content)):o=document.createTextNode(e.content):e.type===U.COMMENT&&(o?o.appendChild(document.createComment(e.content)):o=document.createComment(e.content))};if(c(e))try{for(var l=Ve(e),a=l.next();!a.done;a=l.next()){u(a.value)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}else u(e);return o}var Le=function(e){return Pe({},ee().get(e).componentTree)},qe=function(e,n){ee().get(e).componentTree=Pe({},n)};function Ge(e,n){var t,r;if(0===Object.keys(n).length)return null;var o=Ce(n,I)||"";if(Boolean(o===e))return n;try{for(var i=Ve(n.children),u=i.next();!u.done;u=i.next()){var l=Ge(e,u.value);if(l)return l}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null}function Ke(e){var n,t,r=Ce(e,I);if(r)return r;if(!e.children)return null;try{for(var o=Ve(e.children),i=o.next();!i.done;i=o.next()){r=Ke(i.value)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return r}function Qe(e,n,t,r){void 0===r&&(r=!1);e.forEach(function(o){r&&o.route.unshift(0);var i=function(e,n,t){void 0===t&&(t=[]);var r=e;return t.forEach(function(e,t,o){if(t>0){if(n===P.ADD_NODE&&t===o.length-1)return;if(n===P.REMOVE_NODE)return void(r=r.childNodes[e]||r.childNodes[r.childNodes.length-1]);r=r.childNodes[e]}}),r}(n,o.action,o.route);if(o.action===P.ADD_NODE){var u=He(o.nextValue);i.appendChild(u)}else if(o.action===P.REMOVE_NODE)(d=Ke(o.oldValue))&&ve(d,t),i.parentNode.removeChild(i);else if(o.action===P.REPLACE_NODE)u=He(o.nextValue),(d=Ke(o.oldValue))&&ve(d,t),i.replaceWith(u);else if(o.action===P.ADD_ATTRIBUTE){var l=function(e){return i.setAttribute(e,o.nextValue[e])};Object.keys(o.nextValue).forEach(l)}else if(o.action===P.REMOVE_ATTRIBUTE)l=function(e){return i.removeAttribute(e)},Object.keys(o.oldValue).forEach(l);else if(o.action===P.REPLACE_ATTRIBUTE){l=function(e){var n=o.nextValue[e];if(i.setAttribute(e,o.nextValue[e]),"INPUT"===i.nodeName){var t=i;"text"===t.type&&"value"===e?t.value=n:"checkbox"===t.type&&"checked"===e&&(t.checked=n)}},Object.keys(o.nextValue).forEach(l);var c=e.find(function(e){return e.action===P.REMOVE_NODE});if(c){var a=Be(c.route),f=Be(o.route);a.pop(),f.pop(),a.toString()!==f.toString()&&0===o.keyRoute.length&&(d=o.oldValue[I])&&ve(d,t)}else{var d;(d=o.oldValue[I])&&ve(d,t)}}})}function Xe(e,n,t,r,o,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=!1);var u=Le(n),c=Ne(n),a=u[e],f=a.instance,d=f[Q]?null:a.parentId,s=ee().get(n),p=o||(f[Q]?s.node.children[0]:s.node.querySelector("["+I+'="'+e+'"]')),v=t||Ge(e,c),h=d?Ge(d,c):null,y=h?h.children.findIndex(function(e){return e===v}):0,m=r||f.render();s.queue.push(function(){fe(m,e,n)});var E=Be(v.route);m=_e(m,E,E.length,0,!0),s.queue.forEach(function(e){return e()}),s.queue=[],m.type===U.TAG&&(Re(m,I,e),f.displayName&&Re(m,C,f.displayName),!l(f.props.key)&&Re(m,j,f.props.key));var g=ke(v,m,i);console.log("[diff]",g),Qe(g,p,n,i),o||(h?y>0&&(h.children[y]=m):s.vdom=m),f[X]={}}function We(e,n,t){var r=Le(e),o=ie(),i=r[0],u=i?i.instance:null,l=o?r[o]:null,c=l?l.instance:null,a=function(e,n){return f(e)?function(e,n){var t=0,r=e[H].get(n)?Array.from(e[H].get(n).values()):[],o=r[r.length-1];if(o){var i=o[G].split(".");t=+i[i.length-1]+1}return N+"_"+t}(n,t.getComponentSymbol()):e},d=function(e,n,t){if(e){var r=a(t,e),o=n.getComponentSymbol(),i=null;return e[H].get(o)||e[H].set(o,new Map),(i=e[H].get(o)).get(r)||i.set(r,n.createInstance()),i.get(r)}return u||n.createInstance()};if(!f(n))return d(c,t,n);var s=null;return l&&l.snapshot&&function e(n,t){void 0===t&&(t={onHasKey:function(){},onAdd:function(){},onEquals:function(){}});var r=t.onHasKey,o=t.onAdd,i=t.onEquals,u=n.instance;if(Ce(n.snapshot.vdom,j))return r();var l=Be(n.snapshotDiff);l&&0!==l.length&&(!function(t){var c=t.element.value;if(t.type===S.EQUALS){var a,f=u[H].get(c.getComponentSymbol()),d=Array.from(f.values()),s=u[W][0];(a=s?d.find(function(e){return e[G]===s}):d.find(function(e){return!u[X][e[G]]}))&&(u[X][a[G]]=!0,u[W].splice(0,1),i&&i(a))}else{if(t.type===S.ADD)return o&&o();if(t.type===S.REMOVE){var p=l.findIndex(function(e){return e.type===S.REMOVE});-1!==p&&u[W].splice(p,1),l.splice(0,1),n.snapshotDiff=l,e(n,{onHasKey:r,onAdd:o,onEquals:i})}}}(l[0]),l.splice(0,1),n.snapshotDiff=l)}(l,{onHasKey:function(){s=d(c,t,n)},onAdd:function(){s=d(c,t,n)},onEquals:function(e){s=e}}),s||d(c,t,n)}function ze(e){var n,t=e.uid,r=ee().get(t),o=s(e.props),i=o.key,u=o.ref,c=We(t,i,e),f=null,d=null;c[K]=t,c[B]=Pe({},c.props),c[J]=[],c[q]||(f=function(e,n){var t=Le(e[K]),r=n?t[n]:null,o=r&&r.lastChildId?(+r.lastChildId.replace(n+".","")+1).toString():"0",i=e[G]||(r?n+"."+o:"0");return"0"===i&&t[i]&&t[i].instance&&t[i].instance[q]?t:(t[i]||(e[Q]=!r,e[G]=i,t[i]={id:i,parentId:n,childrenIdMap:{},lastChildId:"",instance:e,prevSnapshot:null,snapshot:null},r&&!r.childrenIdMap[i]&&(r.childrenIdMap[i]=!0,r.lastChildId=i)),t)}(c,ie()),qe(t,f),c.willMount());var v=function(e){if(!e[Q]){var n=e[G].split(".").slice(0,-1).join(".");ue(n)}},h=function(e,n){return e[n]=o[n],e};if(n=c[G],ue(n),c[q]&&!c.shouldUpdate(o,c.state)){var y=Ne(t),m=Ge(n,y);return Re(m,_,!0),c[X]={},v(c),m}if(c.props=Object.keys(o).reduce(h,c.props),c.willReceiveProps(c.props),c.willUpdate(c.props,c.state),d=c.render(),r.queue.push(function(){fe(d,n,t)}),c[Q]&&(d=_e(d),r.queue.forEach(function(e){return e()}),r.queue=[]),l(d))return p("render method must return dom`` content or null!"),null;a(d)&&(d=xe(E+":"+n+(Boolean(c[V])?":"+c[V]:""))),d.type===U.TAG&&(Re(d,I,n),!l(i)&&Re(d,j,i),c.displayName&&Re(d,C,c.displayName));var g=setTimeout(function(){clearTimeout(g),c.didUpdate(Pe({},c[B]),c.state)});if(!c[q])var b=setTimeout(function(){clearTimeout(b),c.didMount(),c[q]=!0});return c[X]={},v(c),u&&u(c),d.props=c.props,d}function Fe(e,n,t){return void 0===t&&(t=!0),{vdom:function e(n){var t="object"==typeof n,o=t?Array.isArray(n)?i(n):r({},n):n;return t&&Object.keys(o).forEach(function(n){return o[n]=e(o[n])}),o}(e),elements:t?Be(n):n}}function Je(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=re(),o=ee().get(r),i=h,l=[],a=Le(r),d=ie(),s=e.join(i),p=null,N=null,D=a[d].instance,C=function(e){return function(e){return"object"==typeof e}(e)&&!f(e)&&!0===e.isSpiderComponent};n.forEach(function(e){var n="";if(C(e)){var t=e;n="\x3c!--"+E+"--\x3e",t.uid=r,l.push({type:M,value:t})}else if(c(e)&&C(e[0])){var a=e.map(function(e){return e.uid=r,e});n="\x3c!--"+g+"--\x3e",l.push({type:x,value:a})}else c(e)&&v(e[0])?(n="\x3c!--"+m+"--\x3e",l.push({type:A,value:e})):v(e)?(n="\x3c!--"+y+"--\x3e",l.push({type:O,value:e})):u(e)?!function(e){return!!u(e)&&!0===e[Y]}(e)?(n=b,D[J].push(e)):(function(e,n){return n.some(function(n){return n===e})}(e,o.refs)||o.refs.push(e),n=(o.refs.length-1).toString()):n=f(e)||!1===e?"\x3c!--"+T+"--\x3e":e;s=s.replace(i,n)}),p=(p=Se(s)).length>1?p:p[0],!Boolean(Ce(p,k))?(a[d]=Pe({},a[d],{prevSnapshot:a[d].snapshot||null}),a[d]=Pe({},a[d],{snapshot:Fe(p,l)}),a[d]=Pe({},a[d],{snapshotDiff:function e(n,t,r,o){void 0===r&&(r=!0),void 0===o&&(o=[]);var i=Be(o);if(n&&t){var u=n.vdom,l=t.vdom,c=function(e){return e.type===U.COMMENT},a=function(e){return e&&c(e)&&e.content===T},f=function(e){return e&&c(e)&&e.content===E},d=r?Be(n.elements):n.elements,s=r?Be(t.elements):t.elements,p=function(e){return e.type===M};if(f(u)&&f(l)){var v=d.findIndex(p);i.push({type:S.EQUALS,element:d[v]}),d.splice(v,1),s.splice(v,1)}else a(u)&&f(l)?(v=s.findIndex(p),i.push({type:S.ADD,element:s[v]}),s.splice(v,1)):f(u)&&a(l)&&(v=d.findIndex(p),i.push({type:S.REMOVE,element:d[v]}),d.splice(v,1));for(var h=u&&u.children?u.children.length:0,y=l&&l.children?l.children.length:0,m=Math.max(h,y),g=0;g<m;g++){var b=u&&u.children&&u.children[g]?u.children[g]:null,O=l&&l.children&&l.children[g]?l.children[g]:null;i=e(Fe(b,d,!1),Fe(O,s,!1),!1,i)}}return i}(a[d].prevSnapshot,a[d].snapshot)}),qe(r,a)):je(p,k);var R=(N=function e(n,t,r){void 0===r&&(r=null);var o=n.type===U.TAG,i=n.type===U.COMMENT,l=o?n.children:[];if(i){var c=n.content;if(c===E){var a=function(e){return e.type===M},f=function(e){return e.type===U.COMMENT&&e.content===E},d=t.findIndex(a),s=r?r.children.findIndex(f):0,p=t[d].value,v=ze(p);if(u(p.mountPortal)){var h=Ke(v);t.splice(d,1),p.mountPortal(h,v)}else r?(t.splice(d,1),r.children[s]=v):(t.splice(d,1),n=v)}else if(c===g){a=function(e){return e.type===x},f=function(e){return e.type===U.COMMENT&&e.content===g};var b=re(),T=(h=ie(),Ne(b)),S=(d=t.findIndex(a),s=r.children.findIndex(f),t[d].value),N=S?We(b,S[0].props.key,S[0]):null,D=function(e,n,t){var r,o;if(void 0===t&&(t=null),Ce(n,I)===e)return t;if(!n||!n.children)return null;try{for(var i=Ve(n.children),u=i.next();!u.done;u=i.next()){var l=u.value;if(t=D(e,l,n))return t}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return null},C=D(N[G],Ge(h,T)),R=r.children.length,w=C&&C.children?C.children.filter(function(e){return Boolean(Ce(e,I))&&S.some(function(n){return n.props.key===Ce(e,j)})}):[];t.splice(d,1),S.forEach(function(e,n){var t,o,i=function(){return r.children.push(ze(e))};if(e.config.pure){var u=n+R,l=w[n]||null,c=l?l.props:null,a=e.props;if(Boolean(c)){var f=Array.from(Object.keys(c)),d=!0;try{for(var s=Ve(f),p=s.next();!p.done;p=s.next()){var v=p.value;if(c[v]!==a[v]){d=!1;break}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}d?r.children[u]=l:i()}else i()}else i()}),r.children.splice(s,1)}else if(c===y)a=function(e){return e.type===O},f=function(e){return e.type===U.COMMENT&&e.content===y},d=t.findIndex(a),s=r.children.findIndex(f),v=t[d].value,t.splice(d,1),r.children[s]=v;else if(c===m){a=function(e){return e.type===A},f=function(e){return e.type===U.COMMENT&&e.content===m},d=t.findIndex(a),s=r.children.findIndex(f);var k=t[d].value;t.splice(d,1),k.forEach(function(e){return r.children.push(e)}),r.children.splice(s,1)}}return l.forEach(function(r){return e(r,t,n)}),n}(p,l))&&N.children?N.children.map(function(e){return Ce(e,I)}).filter(Boolean):[];return a[d].instance[W]=R,N}function Ye(e){if(!e)return null;var n=e[K],t=e[G];return ee().get(n).node.querySelector("["+I+'="'+t+'"]')}function Ze(e,n){var t=Boolean(n.getAttribute(D)),r=ne();if(e.uid=r,ee().get(r))if(t){var o=Number(n.getAttribute(D)),i=Le(o)[0].instance;ue(null),Xe(i[G],o,null,ze(e))}else te(r+1),ue(null),Ze(e,n);else{n.innerHTML="",n.getAttribute(D)||n.setAttribute(D,r.toString());var u={node:n,componentTree:{},vdom:null,eventHandlers:{},refs:[],queue:[]};ee().set(r,u),oe(r);var l=ze(e),c=He(l);u.vdom=l,n.appendChild(c)}}function en(e,n){return e.mountPortal=function(e,t){var r=re(),o=setTimeout(function(){clearTimeout(o);var i=u(n)?n():null,l=r+":"+e,c=Le(r)[e];c&&(c.instance[F]=!0),i||(i=document.querySelector("["+R+'="'+l+'"]'))||(i=document.createElement("div"),document.body.appendChild(i)),Boolean(i.getAttribute(R))||(i.innerHTML="",i.setAttribute(R,l));var a=Se(i.innerHTML)[0];Xe(e,r,a,t,i,!0)})},e}function nn(e){var n=e;return{getValue:function(){return n},Provider:pe({displayName:"Context.Provider",willReceiveProps:function(e){n=e.value||n},render:function(){return this.props.children()}}),Consumer:pe({displayName:"Context.Consumer",render:function(){return this.props.children(n)}})}}function tn(e){var n=new Map,t={},r={};return function(o){var i="";return Object.keys(o).forEach(function(e){var n=o[e];"key"!==e&&(t[e]||(t[e]=new Map,r[e]=-1),l(t[e].get(n))&&t[e].set(n,++r[e]),i+="."+t[e].get(n))}),n.get(i)||n.set(i,e(o)),n.get(i)}}t.d(n,"dom",function(){return Je}),t.d(n,"findDOMNode",function(){return Ye}),t.d(n,"createComponent",function(){return pe}),t.d(n,"renderComponent",function(){return Ze}),t.d(n,"createPortal",function(){return en}),t.d(n,"createContext",function(){return nn}),t.d(n,"createRef",function(){return Ue}),t.d(n,"memo",function(){return tn}),t.d(n,"unmount",function(){return ce})}])});